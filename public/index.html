<!doctype html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Sublets</title>
   
   <!-- CSS -->
   <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
   <link rel="stylesheet" href="css/custom.css">
   <!-- <link rel="stylesheet" href="css/style.css"> -->
   
   <!-- JS -->
   <script src="libs/angular/angular.min.js"></script>
   <script src="libs/angular-route/angular-route.min.js"></script>
   
   <!-- ANGULAR CUSTOM -->
   <script src="js/app.js"></script>
   <script src="js/services/ListingService.js"></script>
   <script src="js/controllers/MainCtrl.js"></script>
   <script src="js/controllers/EditListingCtrl.js"></script>
   <script src="js/controllers/ViewListingCtrl.js"></script>
   <script src="js/controllers/NewCtrl.js"></script>
   <script src="js/controllers/LoginCtrl.js"></script>
   <script src="js/controllers/RegisterCtrl.js"></script>
   <script src="js/controllers/DashboardCtrl.js"></script>
   <script src="js/controllers/ConfirmationCtrl.js"></script>
   <script src="js/controllers/GeoCtrl.js"></script>
   

</head>
<body ng-app="sampleApp" ng-controller="MainController" onload="init()">
   <div class="container">
      <!-- HEADER -->
      <nav class="navbar navbar-inverse">
         <div class="navbar-header">
            <a class="navbar-brand" href="/">Home</a>
         </div>
         <ul class="nav navbar-nav">
            <li><a href="#/new" id="new" style="visibility: hidden;">New</a></li>
         </ul>

         <ul class="nav navbar-nav">
            <li><a href="#/dashboard" id="dashboard" style="visibility: hidden;">Dashboard</a></li>
         </ul>
         <ul class="nav navbar-nav">
            <li>
               <a href="#/login" id="login" style="visibility: hidden;">Login</a>
               <a href="#/logout" onclick="logoutPressed()" id="logout" style="visibility: hidden;" >Logout</a>
            </li>
         </ul>
      </nav>
      <!-- ANGULAR DYNAMIC CONTENT -->
      <div ng-view></div>
   </div>

   <script>
      
   function logoutPressed() {

         //alert("h"+sessionStorage.getItem("session_username"));
         sessionStorage.clear();
         //alert(sessionStorage.getItem("session_username"));   
         init();
   }
   function init() {
      if (sessionStorage.getItem("session_username") == null) {
         //alert("not logged in");
         document.getElementById("login").style.visibility = "visible";
         document.getElementById("logout").style.visibility = "hidden";
         document.getElementById("new").style.visibility = "hidden";
         document.getElementById("dashboard").style.visibility = "hidden";
      } else {
         //alert(sessionStorage.getItem("session_username"));
         document.getElementById("login").style.visibility = "hidden";
         document.getElementById("logout").style.visibility = "visible";
         document.getElementById("new").style.visibility = "visible";
         document.getElementById("dashboard").style.visibility = "visible";
      }
   }

   </script>
</body>
</html>
