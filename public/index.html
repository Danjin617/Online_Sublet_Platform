<!doctype html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Sublets</title>
   
   <!-- CSS -->
   <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
   <link rel="stylesheet" href="css/custom.css">
   <!-- <link rel="stylesheet" href="css/style.css"> -->
   
   <!-- JS -->
   <script src="libs/angular/angular.min.js"></script>
   <script src="libs/angular-route/angular-route.min.js"></script>
   
   <!-- ANGULAR CUSTOM -->
   <script src="js/app.js"></script>
   <script src="js/services/ListingService.js"></script>
   <script src="js/controllers/MainCtrl.js"></script>
   <script src="js/controllers/EditListingCtrl.js"></script>
   <script src="js/controllers/ViewListingCtrl.js"></script>
   <script src="js/controllers/NewCtrl.js"></script>
   <script src="js/controllers/LoginCtrl.js"></script>
   <script src="js/controllers/RegisterCtrl.js"></script>
   <script src="js/controllers/DashboardCtrl.js"></script>
   <script src="js/controllers/ConfirmationCtrl.js"></script>
   

</head>
<body ng-app="sampleApp" ng-controller="MainController" onload="init()">
   <div class="container">
      <!-- HEADER -->
      <nav class="navbar navbar-inverse">
         <div class="navbar-header">
          <!-- see if i can make it the same size as the bootstrap columns-->
            <a class="navbar-brand" href="/"><img class="logo" src="img/logo.png" style="width:19vh"></img></a>
         </div>
         <ul class="nav navbar-nav">
            <li><a href="#/new" id="new" style="visibility: hidden;">New</a></li>
         </ul>

         <ul class="nav navbar-nav">
            <li><a href="#/dashboard" id="dashboard" style="visibility: hidden;">Dashboard</a></li>
         </ul>
         <ul class="nav navbar-nav">
            <li>
               <a href="#/login" id="login" style="visibility: hidden;">Login</a>
               <a href="#/logout" onclick="logoutPressed()" id="logout" style="visibility: hidden;" >Logout</a>
            </li>
         </ul>
      </nav>
      <!-- ANGULAR DYNAMIC CONTENT -->
      <div ng-view></div>
   </div>

   <script>
      
   function logoutPressed() {

         //alert("h"+sessionStorage.getItem("session_username"));
         sessionStorage.clear();
         //alert(sessionStorage.getItem("session_username"));   
         init();
   }
   function init() {
      if (sessionStorage.getItem("session_username") == null) {
         //alert("not logged in");
         document.getElementById("login").style.visibility = "visible";
         document.getElementById("logout").style.visibility = "hidden";
         document.getElementById("new").style.visibility = "hidden";
         document.getElementById("dashboard").style.visibility = "hidden";
      } else {
         //alert(sessionStorage.getItem("session_username"));
         document.getElementById("login").style.visibility = "hidden";
         document.getElementById("logout").style.visibility = "visible";
         document.getElementById("new").style.visibility = "visible";
         document.getElementById("dashboard").style.visibility = "visible";
      }
   }

   </script>


<script>
  console.log("Hi");

  function toggle(type){
   var listBtn = document.getElementById('listBtn');
   var mapBtn = document.getElementById('mapBtn');
    if(type === "list") {
      show("listSearch");
      show("listView");
      hide("mapSearch");
      hide("mapView");
      listBtn.className = "btn btn-primary";
      mapBtn.className = "btn btn-light";
    } else{

      show("mapSearch");
      show("mapView");
      hide("listSearch");
      hide("listView");
      mapBtn.className = "btn btn-primary";
      listBtn.className = "btn btn-light";
    }
  }

  function hide(id) {
    var x = document.getElementById(id);
    x.style.visibility = "hidden";

  }

  function show(id) {
    var x = document.getElementById(id);
    x.style.visibility = "visible";
  }

  


</script>




</body>
</html>
