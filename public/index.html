<!doctype html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 
 <title>Sublets</title>

 <!-- CSS -->
 <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
 <link rel="stylesheet" href="css/custom.css">
 <!-- <link rel="stylesheet" href="css/style.css"> -->

 <!-- JS -->
 <script src="libs/angular/angular.min.js"></script>
 <script src="libs/angular-route/angular-route.min.js"></script>

 <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js"></script>

 <!-- ANGULAR CUSTOM -->
 <script src="js/app.js"></script>
 <script src="js/services/ListingService.js"></script>
 <script src="js/controllers/MainCtrl.js"></script>
 <script src="js/controllers/EditListingCtrl.js"></script>
 <script src="js/controllers/ViewListingCtrl.js"></script>
 <script src="js/controllers/NewCtrl.js"></script>
 <script src="js/controllers/LoginCtrl.js"></script>
 <script src="js/controllers/RegisterCtrl.js"></script>
 <script src="js/controllers/DashboardCtrl.js"></script>
 <script src="js/controllers/ConfirmationCtrl.js"></script>
 <script src="js/ng-file-upload-all.js"></script>


</head>


<body ng-app="sampleApp" ng-controller="MainController" onload="init()" >

  <div class="container col-md-11 mt-3">
    <div class="row">
      <div class="col-md-2 px-1" >

        <a class="navbar-brand" href="/"><img class="img-fluid ml-1"  src="img/logo.png"></img></a>
      </div>

      <div class="col-md-1 px-0" ></div>
      <div class="col-md-3 my-auto" align = "left">

        <a href="#/new" class = "btn minwidth-10" id="new" style="visibility: hidden;">NEW</a>
      </div>

      <div class="col-md-3 my-auto" align = "center">

       <a href="#/dashboard" class = "btn minwidth-10" id="dashboard" style="visibility: hidden;">DASHBOARD</a>
     </div>
     <div class="col-md-3 my-auto" align = "right">

       <a href="#/login" class = " btn minwidth-10" id="login" style="visibility: hidden;">LOGIN</a>
       <a href="#/logout" class = " btn minwidth-10" onclick="logoutPressed()" id="logout" style="visibility: hidden;" >LOGOUT</a>
     </div>
   </div>


   <!-- ANGULAR DYNAMIC CONTENT -->
   <div ng-view></div>
 </div>

 <script>

   function logoutPressed() {

         //alert("h"+sessionStorage.getItem("session_username"));
         sessionStorage.clear();
         //alert(sessionStorage.getItem("session_username"));   
         init();
       }
       function init() {
        if (sessionStorage.getItem("session_username") == null) {
         //alert("not logged in");
         document.getElementById("login").style.visibility = "visible";
         document.getElementById("logout").style.visibility = "hidden";
         document.getElementById("new").style.visibility = "hidden";
         document.getElementById("dashboard").style.visibility = "hidden";
       } else {
         //alert(sessionStorage.getItem("session_username"));
         document.getElementById("login").style.visibility = "hidden";
         document.getElementById("logout").style.visibility = "visible";
         document.getElementById("new").style.visibility = "visible";
         document.getElementById("dashboard").style.visibility = "visible";
       }
     }

   </script>


   <script>
    console.log("Hi");

    function toggle(type){
     var listBtn = document.getElementById('listBtn');
     var mapBtn = document.getElementById('mapBtn');
     if(type === "list") {
      show("listSearch");
      show("listView");
      hide("mapSearch");
      hide("mapView");
      listBtn.className = "btn btn-selected minwidth-10";
      mapBtn.className = "btn minwidth-10";
    } else{

      show("mapSearch");
      show("mapView");
      hide("listSearch");
      hide("listView");
      mapBtn.className = "btn btn-selected minwidth-10";
      listBtn.className = "btn  minwidth-10";
    }
  }

  function hide(id) {
    var x = document.getElementById(id);
    x.style.visibility = "hidden";

  }

  function show(id) {
    var x = document.getElementById(id);
    x.style.visibility = "visible";
  }

  


</script>


<script>
  var currentTime = new Date().getHours();
//alert(currentTime);
if (6 <= currentTime && currentTime < 19) {
  if (document.body) {
      //alert("day");
      document.body.background = '../img/daytimebackground!.jpg';
        //document.body.backgroundImage = url('../img/daytimebackground!.jpg');
      }
    }
    else {
  //alert("night");
  if (document.body) {
    document.body.background = '../img/backgroundnight!.jpg';
        //document.body.backgroundImage = url('../img/backgroundnight!.jpg');
      }
    }

  </script>


</body>
</html>
